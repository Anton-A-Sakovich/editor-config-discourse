# Markdown Updater

Reads style rule options specifications from a rules file, reads EditorConfig rules from
an EditorConfig file, and builds a Markdown file reflecting which values are selected for
which rules.

## Synopsis

```
dotnet MarkdownUpdater <rules_options_file_path> <editorconfig_file_path> <markdown_file_path>[ <github_prefix>]
```

where

* `<rules_options_file_path>` is the path to the file with rule options specifications;
* `<editorconfig_file_path>` is the path to the EditorConfig file;
* `<markdown_file_path>` is the path where to save the Markdown (overrides the existing file);
* `<github_prefix>` (_optional_) is the prefix which will be appended to issue IDs, e.g. https://github.com/Anton-A-Sakovich/editor-config-discourse/issues/.

## Style rule options specifications file format

The format for style rule options specifications is the same as the one generated by MSDN
table parser. It must be a tree of nested YAML mappings, each key in which is a string and
each value is either a nested mapping of the same form or a sequence of rule objects:

```yaml
Root:
    Node 1:
        Node 1.1:
            Node 1.1.1:
                - Rule option X
                - Rule option Y
            Node 1.1.2:
                - Rule option Z
        Node 1.2:
            Node 1.2.1:
                - Rule option W
    Node 2:
        Node 2.1:
            - Rule option Q
```

There should be a single root node. If there are multiple root nodes, all but the first one are ignored.
Each rule object has the following form

```yaml
Name: <rule_name>
Values:
    - <possible_value_1>
    - <possible_value_2>
    - ...
DefaultValue: <value_or_empty_string>
MsdnLink: <link>
```

## EditorConfig file format

The EditorConfig file must adhere to [EditorConfig specification](https://spec.editorconfig.org/) with one
optional semantic addition: if a comment immediately preceding a key-value pair has the form

```ini
#(<number>)<any text>
```

for example `#(1) Foo.`, then the number in parentheses is treated as a GitHub issue ID where the option
is discussed. Note that the latest EditorConfig specs disallow inline comments. A full example:

```ini
#(1) Because I said so.
dotnet_style_qualification_for_method = false:silent
```

will mean that the option `dotnet_style_qualification_for_method` is discussed in GitHub issue `1`.
